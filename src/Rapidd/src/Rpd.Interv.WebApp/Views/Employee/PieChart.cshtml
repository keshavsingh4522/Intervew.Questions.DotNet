@using Rpd.Interv.Core.Data.Models.View

@{
    ViewData["Title"] = "PieChart";
}

@model EmployeeChartDataViewModel

<div id="chartContainer" style="height: 370px; width: 100%;"></div>

@section Scripts {
    <script src="https://cdn.canvasjs.com/canvasjs.min.js"></script>
    <script>
        window.onload = function () {
        var chart = new CanvasJS.Chart("chartContainer", {
        theme: "light1", // "light1", "light2", "dark1", "dark2"
        exportEnabled: true,
        animationEnabled: true,
        title: {
            text: "Employee time tracker"
        },
        subtitles: [{
            text: "Q2, 2023"
        }],
        data: [{
            type: "pie",
            startAngle: 180,
            toolTipContent: "<b>{label}</b>: {y}",
            showInLegend: "true",
            legendText: "{label}",
            indexLabel: "{label} - {y}",
            dataPoints: @Html.Raw(ViewBag.DataPoints)
	}]
});
        chart.render();
        }
    </script>
}
